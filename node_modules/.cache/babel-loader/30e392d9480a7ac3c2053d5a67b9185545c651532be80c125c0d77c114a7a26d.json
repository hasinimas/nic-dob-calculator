{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HASINI\\\\Desktop\\\\HTML\\\\MY PROJ\\\\nic-dob-calculator\\\\src\\\\components\\\\travel\\\\TravelResult.jsx\",\n  _s = $RefreshSig$();\n// src/components/travel/TravelResult.jsx\nimport React, { useEffect, useRef, useState } from \"react\";\nimport personas from \"./personas\";\nimport MapExplorer from \"./MapExplorer\";\nimport * as htmlToImage from \"html-to-image\";\nimport \"../TravelResult.css\";\n\n/*\r\n Props:\r\n  - answers: quiz answers object (style, companion, setting, pace)\r\n  - nicState: optional { birthday, age, gender } â€” used for extra discounts\r\n  - onClose: function to close modal\r\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PER_DAY_BASE = {\n  \"ğŸŒ´ Relaxation\": 120,\n  \"ğŸ—º Adventure\": 150,\n  \"ğŸ› Culture\": 110,\n  \"ğŸ‰ Party\": 160,\n  \"ğŸœ Foodie\": 100,\n  \"â„ Arctic\": 180\n};\nconst COMPANION_MULTIPLIER = {\n  \"ğŸ§³ Solo\": 0.80,\n  // solo gets discount\n  \"ğŸ‘¯ Friends\": 1.15,\n  // friends slightly more (shared activities)\n  \"ğŸ’‘ Partner\": 1.02,\n  \"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family\": 1.25,\n  \"ğŸ§â€â™‚ï¸ Alone\": 0.80\n};\nfunction groupDiscountFactor(n) {\n  if (n >= 10) return 0.90; // 10% group discount on total\n  if (n >= 5) return 0.95; // 5% discount\n  return 1.0;\n}\nfunction ageDiscountFactor(age) {\n  if (!age && age !== 0) return 1.0;\n  if (age < 18) return 0.85; // youth discount\n  if (age >= 60) return 0.90; // senior discount\n  return 1.0;\n}\n\n// Overpass fetch (places)\nasync function fetchPlacesOverpass(lat, lon, personaKey, radius = 30000, limit = 20) {\n  // map persona to element filters\n  const filtersMap = {\n    \"ğŸŒ´ Relaxation\": ['node[\"natural\"=\"beach\"]', 'way[\"natural\"=\"beach\"]', 'node[\"tourism\"=\"resort\"]', 'node[\"tourism\"=\"hotel\"]'],\n    \"ğŸ—º Adventure\": ['node[\"tourism\"=\"attraction\"]', 'node[\"leisure\"=\"trail\"]', 'node[\"tourism\"=\"viewpoint\"]'],\n    \"ğŸ› Culture\": ['node[\"tourism\"=\"museum\"]', 'node[\"historic\"]', 'node[\"amenity\"=\"theatre\"]'],\n    \"ğŸ‰ Party\": ['node[\"amenity\"=\"nightclub\"]', 'node[\"amenity\"=\"bar\"]', 'node[\"amenity\"=\"restaurant\"]'],\n    \"ğŸœ Foodie\": ['node[\"amenity\"=\"restaurant\"]', 'node[\"amenity\"=\"cafe\"]', 'node[\"amenity\"=\"fast_food\"]'],\n    \"â„ Arctic\": ['node[\"natural\"=\"peak\"]', 'node[\"natural\"=\"glacier\"]', 'node[\"tourism\"=\"information\"]']\n  };\n  const filters = filtersMap[personaKey] || ['node[\"tourism\"=\"attraction\"]'];\n  const clauses = filters.map(f => `${f}(around:${radius},${lat},${lon});`).join(\"\");\n  const q = `[out:json][timeout:25];(${clauses});out center ${limit};`;\n  const url = \"https://overpass-api.de/api/interpreter?data=\" + encodeURIComponent(q);\n  const res = await fetch(url);\n  if (!res.ok) throw new Error(\"Overpass failed: \" + res.status);\n  const json = await res.json();\n  return json.elements || [];\n}\nexport default function TravelResult({\n  answers,\n  nicState = {},\n  onClose = () => {}\n}) {\n  _s();\n  var _PER_DAY_BASE$persona, _COMPANION_MULTIPLIER;\n  if (!answers) return null;\n  const personaKey = answers.style || Object.keys(personas)[0];\n  const basePersona = personas[personaKey] || {\n    name: \"Traveler\",\n    animal: \"ğŸŒ\",\n    img: \"/default.jpg\",\n    sound: null\n  };\n\n  // form inputs\n  const [numPeople, setNumPeople] = useState(1);\n  const [days, setDays] = useState(3);\n  const [companion, setCompanion] = useState(answers.companion || \"ğŸ§³ Solo\");\n  const [loadingPlaces, setLoadingPlaces] = useState(false);\n  const [places, setPlaces] = useState([]);\n  const [coords, setCoords] = useState(null);\n  const [errorPlaces, setErrorPlaces] = useState(null);\n  const [playing, setPlaying] = useState(false);\n  const audioRef = useRef(null);\n  const cardRef = useRef(null);\n\n  // compute estimates\n  const perDay = (_PER_DAY_BASE$persona = PER_DAY_BASE[personaKey]) !== null && _PER_DAY_BASE$persona !== void 0 ? _PER_DAY_BASE$persona : 120;\n  const companionMult = (_COMPANION_MULTIPLIER = COMPANION_MULTIPLIER[companion]) !== null && _COMPANION_MULTIPLIER !== void 0 ? _COMPANION_MULTIPLIER : 1.0;\n  const groupFactor = groupDiscountFactor(numPeople);\n  const ageFactor = ageDiscountFactor(nicState.age);\n  const subtotal = perDay * days * numPeople;\n  const afterCompanion = subtotal * companionMult;\n  const afterGroup = afterCompanion * groupFactor;\n  const afterAge = afterGroup * ageFactor;\n  const serviceFee = Math.round(afterAge * 0.08); // 8% service / taxes\n  const total = Math.round(afterAge + serviceFee);\n\n  // preload audio\n  useEffect(() => {\n    if (basePersona.sound) {\n      audioRef.current = new Audio(basePersona.sound);\n      audioRef.current.loop = true;\n    } else {\n      audioRef.current = null;\n    }\n    return () => {\n      try {\n        audioRef.current && audioRef.current.pause();\n      } catch {}\n    };\n  }, [personaKey]);\n  const toggleSound = async () => {\n    if (!audioRef.current) return alert(\"No sound available for this persona.\");\n    try {\n      if (playing) {\n        audioRef.current.pause();\n        setPlaying(false);\n      } else {\n        await audioRef.current.play();\n        setPlaying(true);\n      }\n    } catch (e) {\n      console.error(\"Audio play failed:\", e);\n      alert(\"Browser blocked audio autoplay. Click the Feel Travel button again to enable sound.\");\n    }\n  };\n  const requestGeolocationAndFind = () => {\n    setErrorPlaces(null);\n    setLoadingPlaces(true);\n    if (!navigator.geolocation) {\n      setErrorPlaces(\"Geolocation unavailable in your browser.\");\n      setLoadingPlaces(false);\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async pos => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setCoords([lat, lon]);\n      try {\n        const el = await fetchPlacesOverpass(lat, lon, personaKey, 30000, 20);\n        setPlaces(el.length ? el : []); // store raw elements\n        setErrorPlaces(el.length ? null : \"No places from Overpass â€” showing curated suggestions.\");\n      } catch (err) {\n        console.error(err);\n        setErrorPlaces(\"Places lookup failed â€” using curated suggestions.\");\n      } finally {\n        setLoadingPlaces(false);\n      }\n    }, err => {\n      console.warn(\"geolocation error\", err);\n      setErrorPlaces(\"Geolocation denied or timed out.\");\n      setLoadingPlaces(false);\n    }, {\n      timeout: 15000\n    });\n  };\n  const fallbackSuggestions = (() => {\n    switch (personaKey) {\n      case \"ğŸŒ´ Relaxation\":\n        return [{\n          name: \"Maldives â€” Atoll beaches\",\n          lat: 3.2028,\n          lon: 73.2207\n        }];\n      case \"ğŸ—º Adventure\":\n        return [{\n          name: \"Chiang Mai treks, Thailand\",\n          lat: 18.7883,\n          lon: 98.9853\n        }];\n      case \"ğŸ› Culture\":\n        return [{\n          name: \"Florence, Italy â€” art & history\",\n          lat: 43.7696,\n          lon: 11.2558\n        }];\n      case \"ğŸ‰ Party\":\n        return [{\n          name: \"Ibiza, Spain â€” nightlife\",\n          lat: 38.9067,\n          lon: 1.4206\n        }];\n      case \"ğŸœ Foodie\":\n        return [{\n          name: \"Bangkok street food\",\n          lat: 13.7563,\n          lon: 100.5018\n        }];\n      case \"â„ Arctic\":\n        return [{\n          name: \"TromsÃ¸, Norway â€” northern lights\",\n          lat: 69.6492,\n          lon: 18.9553\n        }];\n      default:\n        return [];\n    }\n  })();\n  const downloadCard = async () => {\n    if (!cardRef.current) return alert(\"Nothing to export.\");\n    // add temporary watermark\n    const watermark = document.createElement(\"div\");\n    watermark.innerText = \"Â© hasini de silva\";\n    watermark.style.position = \"absolute\";\n    watermark.style.right = \"10px\";\n    watermark.style.bottom = \"8px\";\n    watermark.style.color = \"rgba(0,0,0,0.6)\";\n    watermark.style.fontSize = \"12px\";\n    watermark.style.fontWeight = \"700\";\n    cardRef.current.appendChild(watermark);\n    try {\n      const dataUrl = await htmlToImage.toPng(cardRef.current, {\n        cacheBust: true\n      });\n      const a = document.createElement(\"a\");\n      a.href = dataUrl;\n      a.download = `${basePersona.name.replace(/\\s+/g, \"_\")}_travel_card.png`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n    } catch (err) {\n      console.error(\"export failed\", err);\n      alert(\"Export failed in this browser.\");\n    } finally {\n      watermark.remove();\n    }\n  };\n\n  // helper: open google maps for lat/lon\n  const openInGoogleMaps = (lat, lon, name) => {\n    const q = encodeURIComponent(`${name ? name + \" \" : \"\"}${lat},${lon}`);\n    window.open(`https://www.google.com/maps/search/?api=1&query=${q}`, \"_blank\");\n  };\n\n  // small creative suggestions (frontend-generated)\n  const creativeSuggestions = (() => {\n    const sug = [];\n    if (personaKey === \"ğŸ‰ Party\") {\n      sug.push(\"Sunset rooftop party\");\n      sug.push(\"Local DJ event\");\n      sug.push(\"Beach club day-pass\");\n    } else if (personaKey === \"ğŸ—º Adventure\") {\n      sug.push(\"Sunrise trek + viewpoint\");\n      sug.push(\"Water activity (rafting/snorkel)\");\n      sug.push(\"Local village trail experience\");\n    } else if (personaKey === \"ğŸŒ´ Relaxation\") {\n      sug.push(\"Sunset yoga session\");\n      sug.push(\"Island boat lunch\");\n      sug.push(\"Spa afternoon with sea view\");\n    } else if (personaKey === \"ğŸ› Culture\") {\n      sug.push(\"Guided museum tour\");\n      sug.push(\"Local cooking class\");\n      sug.push(\"Historic walking tour\");\n    } else if (personaKey === \"ğŸœ Foodie\") {\n      sug.push(\"Night market tour\");\n      sug.push(\"Street-food crawl\");\n      sug.push(\"Chef table tasting menu\");\n    } else if (personaKey === \"â„ Arctic\") {\n      sug.push(\"Northern lights hunting\");\n      sug.push(\"Ice-scenic boat trip\");\n      sug.push(\"Local cultural lodge stay\");\n    }\n    return sug;\n  })();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"result-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result-card enhanced\",\n      ref: cardRef,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close-btn\",\n        onClick: () => {\n          try {\n            audioRef.current && audioRef.current.pause();\n          } catch {}\n          onClose();\n        },\n        children: \"\\u2716\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-top\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animal-emoji-giant\",\n          children: basePersona.animal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"persona-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: basePersona.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"tagline\",\n            children: [(answers === null || answers === void 0 ? void 0 : answers.setting) || \"Curated travel experience\", \" \\xB7 \", (answers === null || answers === void 0 ? void 0 : answers.pace) || \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Estimate & Plan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                gap: 8,\n                marginTop: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  flex: 1\n                },\n                children: [\"Travelers\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: 1,\n                  value: numPeople,\n                  onChange: e => setNumPeople(Math.max(1, Number(e.target.value) || 1))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  flex: 1\n                },\n                children: [\"Days\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: 1,\n                  value: days,\n                  onChange: e => setDays(Math.max(1, Number(e.target.value) || 1))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8\n              },\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Companion type\", /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: companion,\n                  onChange: e => setCompanion(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"\\uD83E\\uDDF3 Solo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"\\uD83D\\uDC91 Partner\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"\\uD83D\\uDC6F Friends\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67 Family\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Base/day \\xD7 days \\xD7 people\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"$\", perDay, \" \\xD7 \", days, \" \\xD7 \", numPeople, \" = \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [\"$\", Math.round(perDay * days * numPeople)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 59\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Companion multiplier\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"x \", companionMult.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Group discount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"x \", groupFactor.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Age discount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"x \", ageFactor.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginTop: 10\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Service & taxes (8%)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"$\", serviceFee]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginTop: 12,\n                  fontSize: 20\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Estimated total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 24\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [\"$\", total]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 24\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 12\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Per person\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this), \": $\", Math.round(total / numPeople)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cta-row\",\n              style: {\n                marginTop: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-primary\",\n                onClick: requestGeolocationAndFind,\n                children: loadingPlaces ? \"Finding placesâ€¦\" : \"Find Places Nearby\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-ghost\",\n                onClick: toggleSound,\n                children: playing ? \"ğŸ”‡ Stop Sound\" : \"ğŸ”Š Feel Travel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-download\",\n                onClick: downloadCard,\n                children: \"Download Card (PNG)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12\n            },\n            className: \"suggestions\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Creative suggestions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: creativeSuggestions.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: s\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 53\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right\",\n          children: coords ? /*#__PURE__*/_jsxDEV(MapExplorer, {\n            center: coords,\n            places: places.length ? places : fallbackSuggestions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"places-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Suggested places\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), (places.length ? places : fallbackSuggestions).slice(0, 8).map((p, i) => {\n              var _p$tags, _fallbackSuggestions$, _ref, _p$lat, _p$center, _fallbackSuggestions$2, _ref2, _p$lon, _p$center2, _fallbackSuggestions$3, _p$tags2, _p$url;\n              const name = ((_p$tags = p.tags) === null || _p$tags === void 0 ? void 0 : _p$tags.name) || p.display_name || p.name || ((_fallbackSuggestions$ = fallbackSuggestions[i]) === null || _fallbackSuggestions$ === void 0 ? void 0 : _fallbackSuggestions$.name) || `Place ${i + 1}`;\n              const lat = (_ref = (_p$lat = p.lat) !== null && _p$lat !== void 0 ? _p$lat : (_p$center = p.center) === null || _p$center === void 0 ? void 0 : _p$center.lat) !== null && _ref !== void 0 ? _ref : (_fallbackSuggestions$2 = fallbackSuggestions[i]) === null || _fallbackSuggestions$2 === void 0 ? void 0 : _fallbackSuggestions$2.lat;\n              const lon = (_ref2 = (_p$lon = p.lon) !== null && _p$lon !== void 0 ? _p$lon : (_p$center2 = p.center) === null || _p$center2 === void 0 ? void 0 : _p$center2.lon) !== null && _ref2 !== void 0 ? _ref2 : (_fallbackSuggestions$3 = fallbackSuggestions[i]) === null || _fallbackSuggestions$3 === void 0 ? void 0 : _fallbackSuggestions$3.lon;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"place-line\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"place-name\",\n                    children: name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: 12,\n                      color: \"#556\"\n                    },\n                    children: ((_p$tags2 = p.tags) === null || _p$tags2 === void 0 ? void 0 : _p$tags2.amenity) || p.type || \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    gap: 8\n                  },\n                  children: [lat && lon && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-primary\",\n                    onClick: () => openInGoogleMaps(lat, lon, name),\n                    children: \"Navigate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 27\n                  }, this), !lat && !lon && /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"open-google\",\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    href: (_p$url = p.url) !== null && _p$url !== void 0 ? _p$url : \"#\",\n                    children: \"Open\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 23\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this);\n            }), errorPlaces && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error\",\n              style: {\n                marginTop: 8\n              },\n              children: errorPlaces\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"linkedin-caption\",\n        style: {\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"LinkedIn caption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          readOnly: true,\n          rows: 3,\n          value: `My travel persona: ${basePersona.name} ${basePersona.animal}\\nEstimated trip: ${total}$ for ${numPeople} people, ${days} days.\\n#TravelQuiz #NICDemo`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"copyright\",\n        children: \"\\xA9 hasini de silva\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n}\n_s(TravelResult, \"8xMV7h9fEXt6kvHSoB4aJUfTHqA=\");\n_c = TravelResult;\nvar _c;\n$RefreshReg$(_c, \"TravelResult\");","map":{"version":3,"names":["React","useEffect","useRef","useState","personas","MapExplorer","htmlToImage","jsxDEV","_jsxDEV","PER_DAY_BASE","COMPANION_MULTIPLIER","groupDiscountFactor","n","ageDiscountFactor","age","fetchPlacesOverpass","lat","lon","personaKey","radius","limit","filtersMap","filters","clauses","map","f","join","q","url","encodeURIComponent","res","fetch","ok","Error","status","json","elements","TravelResult","answers","nicState","onClose","_s","_PER_DAY_BASE$persona","_COMPANION_MULTIPLIER","style","Object","keys","basePersona","name","animal","img","sound","numPeople","setNumPeople","days","setDays","companion","setCompanion","loadingPlaces","setLoadingPlaces","places","setPlaces","coords","setCoords","errorPlaces","setErrorPlaces","playing","setPlaying","audioRef","cardRef","perDay","companionMult","groupFactor","ageFactor","subtotal","afterCompanion","afterGroup","afterAge","serviceFee","Math","round","total","current","Audio","loop","pause","toggleSound","alert","play","e","console","error","requestGeolocationAndFind","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","el","length","err","warn","timeout","fallbackSuggestions","downloadCard","watermark","document","createElement","innerText","position","right","bottom","color","fontSize","fontWeight","appendChild","dataUrl","toPng","cacheBust","a","href","download","replace","body","click","remove","openInGoogleMaps","window","open","creativeSuggestions","sug","push","className","children","ref","onClick","fileName","_jsxFileName","lineNumber","columnNumber","setting","pace","display","gap","marginTop","flex","type","min","value","onChange","max","Number","target","justifyContent","marginBottom","toFixed","s","i","center","slice","p","_p$tags","_fallbackSuggestions$","_ref","_p$lat","_p$center","_fallbackSuggestions$2","_ref2","_p$lon","_p$center2","_fallbackSuggestions$3","_p$tags2","_p$url","tags","display_name","amenity","rel","readOnly","rows","_c","$RefreshReg$"],"sources":["C:/Users/HASINI/Desktop/HTML/MY PROJ/nic-dob-calculator/src/components/travel/TravelResult.jsx"],"sourcesContent":["// src/components/travel/TravelResult.jsx\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport personas from \"./personas\";\r\nimport MapExplorer from \"./MapExplorer\";\r\nimport * as htmlToImage from \"html-to-image\";\r\nimport \"../TravelResult.css\";\r\n\r\n/*\r\n Props:\r\n  - answers: quiz answers object (style, companion, setting, pace)\r\n  - nicState: optional { birthday, age, gender } â€” used for extra discounts\r\n  - onClose: function to close modal\r\n*/\r\n\r\nconst PER_DAY_BASE = {\r\n  \"ğŸŒ´ Relaxation\": 120,\r\n  \"ğŸ—º Adventure\": 150,\r\n  \"ğŸ› Culture\": 110,\r\n  \"ğŸ‰ Party\": 160,\r\n  \"ğŸœ Foodie\": 100,\r\n  \"â„ Arctic\": 180,\r\n};\r\n\r\nconst COMPANION_MULTIPLIER = {\r\n  \"ğŸ§³ Solo\": 0.80,       // solo gets discount\r\n  \"ğŸ‘¯ Friends\": 1.15,    // friends slightly more (shared activities)\r\n  \"ğŸ’‘ Partner\": 1.02,\r\n  \"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family\": 1.25,\r\n  \"ğŸ§â€â™‚ï¸ Alone\": 0.80,\r\n};\r\n\r\nfunction groupDiscountFactor(n) {\r\n  if (n >= 10) return 0.90; // 10% group discount on total\r\n  if (n >= 5) return 0.95;  // 5% discount\r\n  return 1.0;\r\n}\r\n\r\nfunction ageDiscountFactor(age) {\r\n  if (!age && age !== 0) return 1.0;\r\n  if (age < 18) return 0.85; // youth discount\r\n  if (age >= 60) return 0.90; // senior discount\r\n  return 1.0;\r\n}\r\n\r\n// Overpass fetch (places)\r\nasync function fetchPlacesOverpass(lat, lon, personaKey, radius = 30000, limit = 20) {\r\n  // map persona to element filters\r\n  const filtersMap = {\r\n    \"ğŸŒ´ Relaxation\": ['node[\"natural\"=\"beach\"]', 'way[\"natural\"=\"beach\"]', 'node[\"tourism\"=\"resort\"]', 'node[\"tourism\"=\"hotel\"]'],\r\n    \"ğŸ—º Adventure\": ['node[\"tourism\"=\"attraction\"]', 'node[\"leisure\"=\"trail\"]', 'node[\"tourism\"=\"viewpoint\"]'],\r\n    \"ğŸ› Culture\": ['node[\"tourism\"=\"museum\"]', 'node[\"historic\"]', 'node[\"amenity\"=\"theatre\"]'],\r\n    \"ğŸ‰ Party\": ['node[\"amenity\"=\"nightclub\"]', 'node[\"amenity\"=\"bar\"]', 'node[\"amenity\"=\"restaurant\"]'],\r\n    \"ğŸœ Foodie\": ['node[\"amenity\"=\"restaurant\"]', 'node[\"amenity\"=\"cafe\"]', 'node[\"amenity\"=\"fast_food\"]'],\r\n    \"â„ Arctic\": ['node[\"natural\"=\"peak\"]', 'node[\"natural\"=\"glacier\"]', 'node[\"tourism\"=\"information\"]'],\r\n  };\r\n  const filters = filtersMap[personaKey] || ['node[\"tourism\"=\"attraction\"]'];\r\n\r\n  const clauses = filters.map(f => `${f}(around:${radius},${lat},${lon});`).join(\"\");\r\n  const q = `[out:json][timeout:25];(${clauses});out center ${limit};`;\r\n  const url = \"https://overpass-api.de/api/interpreter?data=\" + encodeURIComponent(q);\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error(\"Overpass failed: \" + res.status);\r\n  const json = await res.json();\r\n  return json.elements || [];\r\n}\r\n\r\nexport default function TravelResult({ answers, nicState = {}, onClose = () => {} }) {\r\n  if (!answers) return null;\r\n\r\n  const personaKey = answers.style || Object.keys(personas)[0];\r\n  const basePersona = personas[personaKey] || { name: \"Traveler\", animal: \"ğŸŒ\", img: \"/default.jpg\", sound: null };\r\n\r\n  // form inputs\r\n  const [numPeople, setNumPeople] = useState(1);\r\n  const [days, setDays] = useState(3);\r\n  const [companion, setCompanion] = useState(answers.companion || \"ğŸ§³ Solo\");\r\n  const [loadingPlaces, setLoadingPlaces] = useState(false);\r\n  const [places, setPlaces] = useState([]);\r\n  const [coords, setCoords] = useState(null);\r\n  const [errorPlaces, setErrorPlaces] = useState(null);\r\n  const [playing, setPlaying] = useState(false);\r\n  const audioRef = useRef(null);\r\n  const cardRef = useRef(null);\r\n\r\n  // compute estimates\r\n  const perDay = PER_DAY_BASE[personaKey] ?? 120;\r\n  const companionMult = COMPANION_MULTIPLIER[companion] ?? 1.0;\r\n  const groupFactor = groupDiscountFactor(numPeople);\r\n  const ageFactor = ageDiscountFactor(nicState.age);\r\n  const subtotal = perDay * days * numPeople;\r\n  const afterCompanion = subtotal * companionMult;\r\n  const afterGroup = afterCompanion * groupFactor;\r\n  const afterAge = afterGroup * ageFactor;\r\n  const serviceFee = Math.round(afterAge * 0.08); // 8% service / taxes\r\n  const total = Math.round(afterAge + serviceFee);\r\n\r\n  // preload audio\r\n  useEffect(() => {\r\n    if (basePersona.sound) {\r\n      audioRef.current = new Audio(basePersona.sound);\r\n      audioRef.current.loop = true;\r\n    } else {\r\n      audioRef.current = null;\r\n    }\r\n    return () => { try { audioRef.current && audioRef.current.pause(); } catch {} };\r\n  }, [personaKey]);\r\n\r\n  const toggleSound = async () => {\r\n    if (!audioRef.current) return alert(\"No sound available for this persona.\");\r\n    try {\r\n      if (playing) {\r\n        audioRef.current.pause();\r\n        setPlaying(false);\r\n      } else {\r\n        await audioRef.current.play();\r\n        setPlaying(true);\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Audio play failed:\", e);\r\n      alert(\"Browser blocked audio autoplay. Click the Feel Travel button again to enable sound.\");\r\n    }\r\n  };\r\n\r\n  const requestGeolocationAndFind = () => {\r\n    setErrorPlaces(null);\r\n    setLoadingPlaces(true);\r\n    if (!navigator.geolocation) {\r\n      setErrorPlaces(\"Geolocation unavailable in your browser.\");\r\n      setLoadingPlaces(false);\r\n      return;\r\n    }\r\n    navigator.geolocation.getCurrentPosition(async (pos) => {\r\n      const lat = pos.coords.latitude;\r\n      const lon = pos.coords.longitude;\r\n      setCoords([lat, lon]);\r\n      try {\r\n        const el = await fetchPlacesOverpass(lat, lon, personaKey, 30000, 20);\r\n        setPlaces(el.length ? el : []); // store raw elements\r\n        setErrorPlaces(el.length ? null : \"No places from Overpass â€” showing curated suggestions.\");\r\n      } catch (err) {\r\n        console.error(err);\r\n        setErrorPlaces(\"Places lookup failed â€” using curated suggestions.\");\r\n      } finally {\r\n        setLoadingPlaces(false);\r\n      }\r\n    }, (err) => {\r\n      console.warn(\"geolocation error\", err);\r\n      setErrorPlaces(\"Geolocation denied or timed out.\");\r\n      setLoadingPlaces(false);\r\n    }, { timeout: 15000 });\r\n  };\r\n\r\n  const fallbackSuggestions = (() => {\r\n    switch (personaKey) {\r\n      case \"ğŸŒ´ Relaxation\": return [{ name: \"Maldives â€” Atoll beaches\", lat: 3.2028, lon: 73.2207 }];\r\n      case \"ğŸ—º Adventure\": return [{ name: \"Chiang Mai treks, Thailand\", lat: 18.7883, lon: 98.9853 }];\r\n      case \"ğŸ› Culture\": return [{ name: \"Florence, Italy â€” art & history\", lat: 43.7696, lon: 11.2558 }];\r\n      case \"ğŸ‰ Party\": return [{ name: \"Ibiza, Spain â€” nightlife\", lat: 38.9067, lon: 1.4206 }];\r\n      case \"ğŸœ Foodie\": return [{ name: \"Bangkok street food\", lat: 13.7563, lon: 100.5018 }];\r\n      case \"â„ Arctic\": return [{ name: \"TromsÃ¸, Norway â€” northern lights\", lat: 69.6492, lon: 18.9553 }];\r\n      default: return [];\r\n    }\r\n  })();\r\n\r\n  const downloadCard = async () => {\r\n    if (!cardRef.current) return alert(\"Nothing to export.\");\r\n    // add temporary watermark\r\n    const watermark = document.createElement(\"div\");\r\n    watermark.innerText = \"Â© hasini de silva\";\r\n    watermark.style.position = \"absolute\";\r\n    watermark.style.right = \"10px\";\r\n    watermark.style.bottom = \"8px\";\r\n    watermark.style.color = \"rgba(0,0,0,0.6)\";\r\n    watermark.style.fontSize = \"12px\";\r\n    watermark.style.fontWeight = \"700\";\r\n    cardRef.current.appendChild(watermark);\r\n\r\n    try {\r\n      const dataUrl = await htmlToImage.toPng(cardRef.current, { cacheBust: true });\r\n      const a = document.createElement(\"a\");\r\n      a.href = dataUrl;\r\n      a.download = `${basePersona.name.replace(/\\s+/g, \"_\")}_travel_card.png`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      a.remove();\r\n    } catch (err) {\r\n      console.error(\"export failed\", err);\r\n      alert(\"Export failed in this browser.\");\r\n    } finally {\r\n      watermark.remove();\r\n    }\r\n  };\r\n\r\n  // helper: open google maps for lat/lon\r\n  const openInGoogleMaps = (lat, lon, name) => {\r\n    const q = encodeURIComponent(`${name ? name + \" \" : \"\"}${lat},${lon}`);\r\n    window.open(`https://www.google.com/maps/search/?api=1&query=${q}`, \"_blank\");\r\n  };\r\n\r\n  // small creative suggestions (frontend-generated)\r\n  const creativeSuggestions = (() => {\r\n    const sug = [];\r\n    if (personaKey === \"ğŸ‰ Party\") {\r\n      sug.push(\"Sunset rooftop party\");\r\n      sug.push(\"Local DJ event\");\r\n      sug.push(\"Beach club day-pass\");\r\n    } else if (personaKey === \"ğŸ—º Adventure\") {\r\n      sug.push(\"Sunrise trek + viewpoint\");\r\n      sug.push(\"Water activity (rafting/snorkel)\");\r\n      sug.push(\"Local village trail experience\");\r\n    } else if (personaKey === \"ğŸŒ´ Relaxation\") {\r\n      sug.push(\"Sunset yoga session\");\r\n      sug.push(\"Island boat lunch\");\r\n      sug.push(\"Spa afternoon with sea view\");\r\n    } else if (personaKey === \"ğŸ› Culture\") {\r\n      sug.push(\"Guided museum tour\");\r\n      sug.push(\"Local cooking class\");\r\n      sug.push(\"Historic walking tour\");\r\n    } else if (personaKey === \"ğŸœ Foodie\") {\r\n      sug.push(\"Night market tour\");\r\n      sug.push(\"Street-food crawl\");\r\n      sug.push(\"Chef table tasting menu\");\r\n    } else if (personaKey === \"â„ Arctic\") {\r\n      sug.push(\"Northern lights hunting\");\r\n      sug.push(\"Ice-scenic boat trip\");\r\n      sug.push(\"Local cultural lodge stay\");\r\n    }\r\n    return sug;\r\n  })();\r\n\r\n  return (\r\n    <div className=\"result-overlay\">\r\n      <div className=\"result-card enhanced\" ref={cardRef}>\r\n        <button className=\"close-btn\" onClick={() => { try {audioRef.current && audioRef.current.pause(); } catch {} onClose(); }}>âœ–</button>\r\n\r\n        <div className=\"result-top\">\r\n          <div className=\"animal-emoji-giant\">{basePersona.animal}</div>\r\n          <div className=\"persona-title\">\r\n            <h2>{basePersona.name}</h2>\r\n            <p className=\"tagline\">{answers?.setting || \"Curated travel experience\"} Â· {answers?.pace || \"\"}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"result-body\">\r\n          <div className=\"left\">\r\n            <div className=\"summary-card\">\r\n              <h3>Estimate & Plan</h3>\r\n              <div style={{ display: \"flex\", gap: 8, marginTop: 8 }}>\r\n                <label style={{ flex: 1 }}>\r\n                  Travelers\r\n                  <input type=\"number\" min={1} value={numPeople} onChange={(e)=> setNumPeople(Math.max(1, Number(e.target.value)||1))} />\r\n                </label>\r\n                <label style={{ flex: 1 }}>\r\n                  Days\r\n                  <input type=\"number\" min={1} value={days} onChange={(e)=> setDays(Math.max(1, Number(e.target.value)||1))} />\r\n                </label>\r\n              </div>\r\n\r\n              <div style={{ marginTop: 8 }}>\r\n                <label>\r\n                  Companion type\r\n                  <select value={companion} onChange={(e)=> setCompanion(e.target.value)}>\r\n                    <option>ğŸ§³ Solo</option>\r\n                    <option>ğŸ’‘ Partner</option>\r\n                    <option>ğŸ‘¯ Friends</option>\r\n                    <option>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family</option>\r\n                  </select>\r\n                </label>\r\n              </div>\r\n\r\n              <div style={{ marginTop: 12 }}>\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 6 }}>\r\n                  <div>Base/day Ã— days Ã— people</div>\r\n                  <div>${perDay} Ã— {days} Ã— {numPeople} = <strong>${Math.round(perDay * days * numPeople)}</strong></div>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 6 }}>\r\n                  <div>Companion multiplier</div>\r\n                  <div>x {companionMult.toFixed(2)}</div>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 6 }}>\r\n                  <div>Group discount</div>\r\n                  <div>x {groupFactor.toFixed(2)}</div>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 6 }}>\r\n                  <div>Age discount</div>\r\n                  <div>x {ageFactor.toFixed(2)}</div>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 10 }}>\r\n                  <div>Service & taxes (8%)</div>\r\n                  <div>${serviceFee}</div>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 12, fontSize: 20 }}>\r\n                  <div><strong>Estimated total</strong></div>\r\n                  <div><strong>${total}</strong></div>\r\n                </div>\r\n\r\n                <div style={{ marginTop: 12 }}>\r\n                  <strong>Per person</strong>: ${Math.round(total / numPeople)}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"cta-row\" style={{ marginTop: 12 }}>\r\n                <button className=\"btn-primary\" onClick={requestGeolocationAndFind}>\r\n                  {loadingPlaces ? \"Finding placesâ€¦\" : \"Find Places Nearby\"}\r\n                </button>\r\n\r\n                <button className=\"btn-ghost\" onClick={toggleSound}>\r\n                  {playing ? \"ğŸ”‡ Stop Sound\" : \"ğŸ”Š Feel Travel\"}\r\n                </button>\r\n\r\n                <button className=\"btn-download\" onClick={downloadCard}>Download Card (PNG)</button>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: 12 }} className=\"suggestions\">\r\n              <h4>Creative suggestions</h4>\r\n              <ul>\r\n                {creativeSuggestions.map((s, i) => (<li key={i}>{s}</li>))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"right\">\r\n            {coords ? (\r\n              <MapExplorer center={coords} places={places.length ? places : fallbackSuggestions} />\r\n            ) : (\r\n              <div className=\"places-list\">\r\n                <h4>Suggested places</h4>\r\n                {(places.length ? places : fallbackSuggestions).slice(0,8).map((p, i) => {\r\n                  const name = p.tags?.name || p.display_name || p.name || fallbackSuggestions[i]?.name || `Place ${i+1}`;\r\n                  const lat = p.lat ?? p.center?.lat ?? fallbackSuggestions[i]?.lat;\r\n                  const lon = p.lon ?? p.center?.lon ?? fallbackSuggestions[i]?.lon;\r\n                  return (\r\n                    <div key={i} className=\"place-line\">\r\n                      <div>\r\n                        <div className=\"place-name\">{name}</div>\r\n                        <div style={{ fontSize: 12, color: \"#556\" }}>{p.tags?.amenity || p.type || \"\"}</div>\r\n                      </div>\r\n                      <div style={{ display: \"flex\", gap: 8 }}>\r\n                        {lat && lon && (\r\n                          <button className=\"btn-primary\" onClick={() => openInGoogleMaps(lat, lon, name)}>Navigate</button>\r\n                        )}\r\n                        {!lat && !lon && (\r\n                          <a className=\"open-google\" target=\"_blank\" rel=\"noreferrer\" href={p.url ?? \"#\"}>Open</a>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n                {errorPlaces && <div className=\"error\" style={{ marginTop: 8 }}>{errorPlaces}</div>}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"linkedin-caption\" style={{ marginTop: 12 }}>\r\n          <strong>LinkedIn caption</strong>\r\n          <textarea readOnly rows={3} value={`My travel persona: ${basePersona.name} ${basePersona.animal}\\nEstimated trip: ${total}$ for ${numPeople} people, ${days} days.\\n#TravelQuiz #NICDemo`} />\r\n        </div>\r\n\r\n        <div className=\"copyright\">Â© hasini de silva</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}